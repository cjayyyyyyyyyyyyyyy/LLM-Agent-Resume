# 使用官方Python运行时作为基础镜像\nFROM python:3.10-slim\n\n# 设置工作目录\nWORKDIR /app\n\n# 设置环境变量\nENV PYTHONDONTWRITEBYTECODE=1 \\\n    PYTHONUNBUFFERED=1 \\\n    PYTHONPATH=/app\n\n# 安装系统依赖\nRUN apt-get update \\\n    && apt-get install -y --no-install-recommends \\\n        build-essential \\\n        curl \\\n    && rm -rf /var/lib/apt/lists/*\n\n# 复制requirements.txt文件\nCOPY requirements.txt .\n\n# 安装Python依赖\nRUN pip install --no-cache-dir --upgrade pip \\\n    && pip install --no-cache-dir -r requirements.txt\n\n# 复制项目代码\nCOPY . .\n\n# 创建数据目录\nRUN mkdir -p data cache chroma_db\n\n# 暴露端口\nEXPOSE 8000\n\n# 启动应用\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]